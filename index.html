<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game of Life</title>
    <link rel="stylesheet" href="css/index.css" />
</head>
<body>
    <!-- Modal -->
    <div id="modal-outer">
        <div id="modal-inner">
            <button id="modal-close" onclick="closeModal()">&#128473</button>
            <h3>What is Conway's Game of Life?</h3>
            <p>Game of Life is a set of rules for a 2D grid of cells, originally devised by John Conway.</p>
            <p>In this ruleset a cell can either be alive or dead, and at each step in the simulation, every cell's state is updated based on the cells around it.</p>
            <p>The rules are as follows:</p>
            <ul>
                <li>A live cell dies if it has fewer than 2 living neighbours</li>
                <li>A live cell dies if it has more than 3 living neighbours</li>
                <li>A dead cell becomes live if it has <strong>exactly</strong> 3 neighbours</li>
            </ul>
            <p>This results in a deterministic simulation where small changes in the starting conditions can lead to drastic differences in outcomes down the line.</p>
            <p>Try drawing a starting pattern on the grid, or use the "randomise" button to generate one!</p>
        </div>
    </div>
    <!-- Header -->
    <nav>
        <h1>Game of Life</h1>
    </nav>

    <main>
        <!-- Controls -->
        <div id="game-controls">
            <button class="control-button" onclick="step();">Step</button>
            <button class="control-button" id="pause-play" onclick="play();">Play</button>
            <button class="control-button" onclick="init();">Reset</button>
            <div id="dimension-outer">
                <!-- Decrease Grid Size -->
                <button class="dimension-button" onclick="
                    size = parseInt($('#dimension').val());
                    if (size > 5) {
                        $('#dimension').val(size - 1);
                        init();
                    }
                    ">-</button>
                <input id="dimension" type="text" value="20" readonly/>
                <!-- Increase Grid Size -->
                                <button class="dimension-button" onclick="
                    size = parseInt($('#dimension').val());
                    if (size < 50) {
                        $('#dimension').val(size + 1);
                        init();
                    }
                    ">+</button>
            </div>
            <button class="control-button" onclick="randomise();">Randomise</button>
            <button class="help-button" onclick="openModal()">?</button>
        </div>

        <!-- Game -->
        <h3 id="generation-text">Generation: <span id="generation">0</span></h3>
        <div id="game-container">

        </div>
    </main>

    <footer>
        <p>Created by <a href="https://alice-stiles.netmatters-scs.co.uk" target="_blank">Alice Stiles</a> based on the <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life" target="_blank">cellular automaton by John Conway</a></p>
        <p>View the <a href="https://github.com/AliceeeSixes/game-of-life" target="_blank">Git repo for this project</a> to view the code or suggest changes!</p>
    </footer>
    

    <!-- JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="game.js"></script>
    <script src="modal.js"></script>
</body>
</html>